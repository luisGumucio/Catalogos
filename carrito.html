
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Por Catalogo | Carrito</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="OchoNueve">
    <link rel="shortcut icon" href="favicon.ico">

    <!-- CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    
    <!-- Slider -->
    <link rel="stylesheet" href="css/flexslider.css" type="text/css">
     
    
    <style>
      body {
        padding-top: 60px; 
      }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Javascript-->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap-transition.js"></script>
    <script src="js/bootstrap-alert.js"></script>
    <script src="js/bootstrap-modal.js"></script>
    <script src="js/bootstrap-dropdown.js"></script>
    <script src="js/bootstrap-scrollspy.js"></script>
    <script src="js/bootstrap-tab.js"></script>
    <script src="js/bootstrap-tooltip.js"></script>
    <script src="js/bootstrap-popover.js"></script>
    <script src="js/bootstrap-button.js"></script>
    <script src="js/bootstrap-collapse.js"></script>
    <script src="js/bootstrap-carousel.js"></script>
    <script src="js/bootstrap-typeahead.js"></script>
    <script src="js/jquery.flexslider.js"></script>
    
    <script type="text/javascript" charset="utf-8">
		$(window).load(function() {
		    $('.flexslider').flexslider({
		          animation: "slide",
		          controlsContainer: ".flex-container"
		    });
		});
		
		//Funcion para borrar una linea de la tabla de carrito y restar el precio del articulo al total
		function SomeDeleteRowFunction(btndel,price) {
			if (typeof(btndel) == "object") {
				var total = $('#total').html();
				total = total.substr(1);
				total = (total*1 - price*1);
				$('#total').html("$" + total.toFixed(2));
				$(btndel).closest("tr").remove();
				
			} 
			else {
				return false;
				}
		}
		
		
		//Funcion para calcular el precio del articulo de acuerdo a su cantidad requerida
		$(function() {
			$('#idcantidadnano').change (function (){
				$('#idsubtotalnano').html("$" + ($('#idcantidadnano').val() * 99.99).toFixed(2));
				var precioiphone = $('#idsubtotaliphone').html()
				precioiphone = precioiphone.substr(1);
				var precionano = $('#idsubtotalnano').html()
				precionano = precionano.substr(1);
				$('#total').html("$" + (precioiphone*1+precionano*1+120).toFixed(2));

			});
			
			$('#idcantidadiphone').change (function (){
				$('#idsubtotaliphone').html("$" + ($('#idcantidadiphone').val() * 2999.99).toFixed(2));
				var precioiphone = $('#idsubtotaliphone').html()
				precioiphone = precioiphone.substr(1);
				var precionano = $('#idsubtotalnano').html()
				precionano = precionano.substr(1);
				$('#total').html("$" + (precioiphone*1+precionano*1+120).toFixed(2));

			});
     	});
     	
     	function compra(){
	     	alert("Tu compra ha sido exitosa con un total de: " + $('#total').html());
     	}
	</script>

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <!-- #4e9000 -->
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand">Por Catalogo</a>
          <div class="nav-collapse">
          	<ul class="nav">
          		<li class="active"><a href="index.html">Inicio</a></li>
          		<li><a href="catalogo2.html"><span class="white">Catalogos</span></a></li>
          		<li><a href="contacto.html"><span class="white">Contacto</span></a></li>
          	</ul>
          </div><!-- end nav-collapse -->
        </div> <!-- end container -->
      </div> <!-- end navbar-inner -->
    </div> <!-- end navbar -->
    
    </div>

    <div class="container">
	
		<div class="hero-unit">
			<h2>Tu Carrito</h2>			
			<br/>
			
			<div style="margin:auto; width:800px">
				<table class="table table-striped carrito">
					<tr>
						<td>Producto</td>
						<td>Precio Unitario</td>
						<td>Cantidad</td>
						<td>Subtotal</td>
						<td>Eliminar</td>
					</tr>
					<tr>
						<td>iPod Nano 16GB</td>
						<td id="idprecionano">$99.99</td>
						<td><input type="text" name="cantidad" class="cantidad" id="idcantidadnano"></td>
						<td id="idsubtotalnano">$99.99</td>
						<td><input type="button" value="Eliminar" onclick="SomeDeleteRowFunction(this,99.99);"></td>
					</tr>
					<tr>
						<td>Bolsa Guess</td>
						<td id="idprecioiphone">$2999.99</td>
						<td><input type="text" name="cantidad" class="cantidad" id="idcantidadiphone"></td>
						<td id="idsubtotaliphone">$2999.99</td>
						<td><input type="button" value="Eliminar" onclick="SomeDeleteRowFunction(this,2999.99);"></td>
					</tr>
					<tr>
						<td colspan="3">Envio</td>
						<td id="envio">+ $120.00</td>
					</tr>
					<tr>
						<td colspan="3">Total</td>
						<td id="total">$3219.98</td>
					</tr>
				</table>
			</div>
			
			<form action="logeado.html">
				<button type="submit" id="envia" style="margin-left:670px" onclick="compra();">Comprar</button>
			</form>
			
		</div>
    
    <div class="container">  

    </div> <!-- /container -->
    
    <div class="footer-bottom">
	    <div class="span4">
	    	<a href="nosotros.html">Nosotros </a> | <a href="compraSegura.html"> Compra Segura </a> | <a href="ayuda.html"> Ayuda</a>
	    </div>
	    <div class="span5">
	    	<p>&#169 2013 Por Catalogo, Todos los Derechos Reservados</p>
	    </div>
    </div>


  </body>
</html>
